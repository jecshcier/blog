---
title: 手撸一个开箱即用的electronApp（一）
categories: 技术
date: 2018-10-17 14:41:57
tags: [electron学习]
keywords: [electron]
---

用electron其实已经有一年多了吧。总的来说还是很好用的。用html写gui界面简洁又快速，除了electron打包出来的东西本身略大。。。

先前的业务本基于CEF（Chromium Embedded Framework），奈何之前的c++项目维护困难，electron的项目可以使用js构建，总体门槛降低不少。

<!-- more -->

日常惯例，先思考后写代码。

我先来解释一下什么叫“开箱即用”。

我相信大部分的webapp的交互行为是这样的：

>web <-> bridge <-> native action

electron充当的其实就是这个bridge，并承担了native的工作（当然了，本质上还是node调用nativeAPI）。

通常来讲，这个bridge会做两件事情。

* **接收web过来的消息，传递给native处理业务**
* **接收native反馈的消息，回馈给web展示结果**

那么其实，对于简单的业务场景来说，可以总结出一些简单的接口出来。

这些接口用来做什么呢？其实并非只是图省事而已。

* **让前端可以专注在自己的领域上做事，省去app端的工作，对于native端的操作，通过接口来完成。这样来讲，实现了GUI与native的分离。**
* **将前端部分外置，独立成一个包，省去了electron重复打包的麻烦。**

这样来说，只要使用了这个“开箱即用”的electronApp，**即便一点都不懂electron，也能够写原生的app啦**，注意，这个网页套壳不一样，它能够做一些简单轻量的原生操作。

然后我列了一些常用接口：

### 网络请求
* http请求
* 文件下载
* 文件上传

### 文件操作
* 创建文件
* 创建文件夹
* 判断路径是否存在
* 删除文件
* 删除文件夹
* 读取文件
* 获取文件夹下所有文件、文件夹
* 打开文件
* 复制文件/文件夹

### app操作
* 最大化
* 最小化
* 全屏
* 退出

### 进程操作
* 删除进程

### 系统操作
* 获取当前系统标识
